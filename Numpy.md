# **Numpy**

**Numpy** 规则

Numpy用于数组

Numpy具有线性代数、傅里叶变换和在矩阵领域工作的功能。

为什么要使用 **Numpy** ？

在Python中，我们有用于数组用途的列表，但它们的处理速度很慢。Numpy快50倍。

**Numpy** 使用什么语言？

部分用Python，但是大多数需要更快算法的部分使用c或c++

数组

数组的形状是每个维度中元素的数量

Numpy里的数组被称为ndarray。

从列表创建数组**np.array(**列表名）

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **dtype** | 数据类型 |
 |
| --- | --- | --- |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |

## 数组的维度

1、向量数组vector arrays：一维数组

2、矩阵数组matrix arrays：二维数组

3、张量数组tensor arrays：三维数组

数组属性

得到数组的形状 **.shape**

数组名.shape

返回一个元祖，有几个数字就有几维，每个数字表示该维度包含元素的个数

**Np.array** （） **.dtype** 得到数组里数据的类型和大小

数组函数

数组名 **.flatten** （）

展平数组，把数组变成一维。

数组名 **.reshape** （）

如果是二维，参数为（行数，列数）

如果是高维，参数为（维度，行数，列数）

**np.zeros** （（行数，列数））得到一个只有 **0** 的数组

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **dtype** | 数据类型 | 默认float64 |
| --- | --- | --- |
|
 |
 |
 |

**Np.mean** （数组名）

改变数组类型

数组名.as（'新类型'）

或使用python字典来定义每一列

**Sort**

Np.sort（数组名）

这个函数返回一个数组的拷贝，不会改变原数组。

**Np.where(**条件**,x,y)**

返回ndarray

如果只有条件，则该函数等同于np.asarray（条件）.nonzero（）

| 参数 | 值 | 描述 |
| --- | --- | --- |
| 条件 | 类数组，布尔 | 如果是真进入x，如果是假进入y |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |

**Np.delete(**要删除的数组，要删除的对象，轴**)**

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **要删除的数组** | 类数组 |
 |
| --- | --- | --- |
| **被删除的子数组** | 切片、整数或整数数组 | 指示要沿指定轴删除的子数组的索引 |
| **轴** | 整数 | 删除子数组的轴。如果axis=None，相当于从展平数组删除。axis=0表示按行操作，axis=1表示按列操作。axis=2相当于3d的立体轴 |

##

## 数组连接

**Np.concatenate((**数组 **1** ，数组**2)**，参数**)**

**Np.stack** （（数组 **1** ，数组 **2** ））

stack和concatenate几乎一样，唯一的区别是stack使用一个新轴来连接。

**np.split** （数组名，分几份）

Axis

# 随机

Numpy里有一个random包

**Np.random.seed** （参数）

设置随机种子，以便你的结果在模拟之间可重现。作为参数，它需要你选择的整数。如果你调用该函数，不会产生任何输出。

**Np.random.rand** （）

如果你不指定任何参数，它会生成一个介于0和1之间的随机浮点数。

**Np.random.randint** （起始数，结束数）

产生一个随机整数。结束数是不包括的。

**np.Random.random** （）

产生一个在半开放区间【）里的随机小数

对象名 **.Sample** （顺序， **k** ）

随机产生一个含有k个项目的列表

**np.** 用于获取给定区间内均匀分布的值。

结束值不包括在区间里。

返回ndarray（结束值）返回一个规定区间内的整数数组

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **start** |
 | 该值包括在数组中，默认值为0 |
| --- | --- | --- |




## Seaborn模块

Seaborn建立在Matplotlib之上，用于图像化随机分布。

sns.scatterplot(x='列名‘，y=’列名‘）

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **ci** | --- | **回归估计的置信区间大小，取值范围为【0，100】** |
| --- | --- | --- |
| **data** | **字符串** | **要可视化的数据文件名** |

绘制一条带有线性趋势线的点图
sns.lmplot



## 正态分布

Numpy.random.normal（）

它有三个参数：

Loc-（平均）峰值

Scale-（正态分布）图分布应该有多平坦

Size-返回数组的形状

Mean deviation平均偏差

standard deviation标准偏差


标准正态分布

标准正态分布是平均值为0标准差为1的正态分布。


**z** 值

z值表示一个值与均值的标准差有多少。

寻找 **z** 值的 **p** 值

比z值小的可能性：正态分布累积概率密度函数

norm.cdf（数字，均值，标准差）

百分比点函数（cdf的逆函数—百分位数）

norm.ppf（数字，均值，标准差）



## 二项分布random.binomial(n=尝试的次数，p=每次尝试的发生概率，size=返回数组的形状）

二项分布是一种离散分布，它描述了二进制场景的结果。

离散分布：分布是在独立的事件上定义的。

正态分布和二项分布的区别

主要区别是正态分布是持续的，二项分布是离散的。但是如果数据量足够大，它将非常类似于具有特定位置和规模的正态分布。

二项式离散随机变量

scipy.stats.binom.rvs（试验次数，实验成功的概率，size=返回数组的形状）

概率质量函数

scipy.stats.binom.pmf（头数，试验次数，试验成功的概率）

累积分布函数

scipy.stats.binom.cdf（头数，试验次数，试验成功的概率）



## 泊松分布random.poisson(lam=平均发生次数，size=返回数组的形状）

泊松分布是一种离散分布，用来估计一件事情在某一时间段发生的次数。事件发生有一定的概率，但是是完全随机的。

lam是lambda的缩写，用来描述泊松分布的形状。Lambda是分布的顶峰。

正态分布和泊松分布的区别

正态分布是连续的，泊松分布是离散的。

但是我们可以看到，就像二项分布一样，对于足够大的泊松分布，它会变得类似于具有特定标准差和均值的正态分布。

二项分布和泊松分布的区别

二项分布只有两种可能的结果，而泊松分布有无限可能的结果。但是足够大的n和接近于0的p，二项分布与泊松分布几乎相同，也就是nxp几乎等于lam



## 均匀分布uniform distribution

又分为离散均匀分布和持续均匀分布

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **size** | 数组 | 返回数组的形状 |
| --- | --- | --- |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
 
 
 
 ## 指数分布Exponential distribution
 指数分布用于描述到下一个事件发生的时间。
 random.exponential(scale=速率的倒数（默认为1）,size=（返回数组的形状）)
 scale相当于泊松分布里的lam
 泊松和指数分布的关系：
 泊松分布处理时间段内事件发生的次数，而指数分布处理这些事件之间的时间。
 
 ## t分布
 t分布类似于正态分布，用于统计推断以调整不确定性。
 t分布用于总体均值（平均值）的估计和假设试验。
 t分布针对估计均值的额外不确定性进行了调整。
 如果样本较小，t分布较宽。如果样本很大，t分布较窄。
 样本越大，t分布约接近标准正态分布。但是t分布的尾部比正态分布要粗。
 自由度越高，越接近正态分布。
 注意一些曲线有更大的尾巴，那是因为小样本的不确定性导致的。
 t分布用于找到关键的t值和p值（概率）以进行估计和假设试验。
 t值和p值相当于标准正态分布里的z值和p值。

数据框 **.sum** （【数组 **1** ，数组 **2** 】）

把每列相加并返回列的和

| **参数** | **值** | **描述** |
| --- | --- | --- |
| **axis** | 0、1，'index'，'columns' | axis=0表示把每列的所有行相加（列总和）（默认）axis=1表示把每行的所有列相加（行总和） |
| --- | --- | --- |
| keepdims | 布尔 | 如果将其设为true，则纵向排列 |
|
 |
 |
 |
|
 |
 |
 |

p.vectorize(python功能)

用于把非数组函数转化为数组函数。

向量化方法需要将对象类型放在方法名称之前。

| 参数 | 值 | 描述 |
| --- | --- | --- |
| Doc= | str | 函数的文档字符串 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |

Broadcast广播

广播是numpy对不同形状的数组进行数值计算的方式。

当运算中两个数组的形状不同时，numpy将自动触发广播机制。

广播的规则：

-Numpy是从右向左比较数组。

-二维数组可兼容当：一方长度为1或长度相同

如果两组数据都

数据框**.mean()**

| 参数 | 值 | 描述 |
| --- | --- | --- |
| Axis | 0、1、'index'、'columns' | 默认为算展平数组的平均数 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |
|
 |
 |
 |

## 数组转换

下载 **npy** 文件

With open('名.npy','rb') as 缩写：

新文件名=np.load（缩写）

保存数组为 **.npy** 文件

With open('名.npy','wb') as 缩写：

np.save（缩写，数组名）

Np.flip（数组）

用于沿给定轴翻转数组中元素的顺序。

默认参数Axis=None，则翻转所有轴。axis=0沿x轴翻转，axis=3则翻转rgb值。axis为一个元祖时，则翻转元祖中涉及的轴。

np.transpose（数组）

用来置换一个数组的维度（行变列，列变行）

参数axes默认情况下反转维度，否则根据给定值排列轴。

# Numpy功能

## logs功能

Numpy提供以2、e、10为基数执行的对数函数

### 自然对数或以e为基数执行的对数

np.log(数字)


